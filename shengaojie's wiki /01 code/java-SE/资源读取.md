
> [!question] 什么是classpath
> 我们写的`java`文件最后会被编译成`class`文件。jvm需要找到对应的class文件，也就是需要找到对应的`classpath`。
对于一个maven项目而言，java文件会被编译成class文件，同时和resource目录下的静态文件放在一个目录下，这个目录一般是`target/classes`,如果是test目录下的文件，是放在`target/test-classes`

> [!function] 
> 读取文件关键就是要找到文件所在的位置，而找到文件所在的路径和**classpath**
> 有很重要的关系。 
> 


![[CleanShot 2023-11-03 at 09.32.42@2x.png]]


> [!NOTE] class.getResource
> 

```java
//表示的是返回相对路径，相对于当前的文件所在的目录，因此是resource下
TestUserController.class.getResource("")
//表示的是返回classpath
TestUserController.class.getResource("/")
```
![[CleanShot 2023-11-03 at 09.42.40@2x.png]]

因此测试如果在mian.java文件中想要获取bean.xml，应该如何写路径
1. 使用class.getResource("")
```java
Main.class.getResource("../../bean.xml");
```
2. 使用class.getResource("/")
```java
Main.class.getResource("/bean.xml");
```
class.getResource的底层还是调用了classLoader.getResouce(),只是更加方便我们使用了


> [!NOTE] classLoader.getResource

和上面的class.getResource一样，分别打印"" 和 "/"的场景
![[CleanShot 2023-11-03 at 09.52.07@2x.png]]
同样在main中获取bean.xml的资源，因此只能用不带”/“

```java
Main.class.getClassLoader.getResource("bean.xml")
```



> [!NOTE] getResourceAsStream()
> 该方法是获取路径文件的输入流，在路径的用法上和**class.getResource()** 一致




> [!NOTE] file中的路径问题
> 创建file对象时的路径是更具项目路径而言的，项目的路径可以通过**System.getProperty("user.dir")** 来获取




