
> [!what] 
> 提供一种方法顺序访问一个聚合对象中的各个元素，而又不暴露该对象的内部表示




> [!how] 
> 

![[CleanShot 2023-12-14 at 10.18.13@2x.png]]


> [!NOTE] 
>1. `CreateIterator()`方法中会创建一个 具体的`Iterator`实现类，并且将自己（this）作为参数进行传递
> 2. `Iterator`中各种方法操作的数据就是this中的容器属性
> 3. `Iterator` 接口不同的实现方法会有不同的遍历方式



> [!NOTE] Aggregate

```java
public abstract class Aggregate {  
    
	abstract Iterator createIterator();  
}
```

> [!NOTE] ConcreteAggregate

```java
public class BusAggregate extends Aggregate{  
  
	List<Passager> passagers = new ArrayList<>();  
	  
	@Override  
	Iterator createIterator() {  
		return new BusIterator(this);  
	}  
	  
	void addPassager(Passager passager){  
		passagers.add(passager);  
	}  
}

```


> [!NOTE] Iterator

```java
public interface Iterator<T> {  
	T currentItem();  
	  
	void nextItem();  
	  
	boolean hasNext();  
	  
	T firstItem();  
}
```


> [!NOTE] ConcreteIterator

```java
public class BusIterator implements Iterator<Passager>{  
	private int currentNum = 0;  
	private BusAggregate aggregate;  
	  
	private List<Passager> list;  
	  
	public BusIterator(BusAggregate aggregate) {  
		this.aggregate = aggregate;  
		this.list = aggregate.passagers;  
	}  
	  
	//
	@Override  
	public Passager currentItem() {  
		return currentNum < list.size() ? list.get(currentNum):null;  
	}  
	  
	@Override  
	public void nextItem() {  
		currentNum++;
	}  

    // 是否有下一个元素
	@Override  
	public boolean hasNext() {  
		return currentNum < list.size();  
	}  
    //返回第一个元素
	@Override  
	public Passager firstItem() {  
		return list.get(0);  
	}  
}
```